var e=function(e,n){switch(n){case"number":return parseFloat(e);case"text":return e+""}return e},n=function(e,n){var t=e.id,u=e.name,r=e.type;void 0===r&&(r="text");var a=e.help,i=e.defaultValue,l=e.min,o=e.max,p=e.steps,c=[],m=function(e){return document.createElement(e)},f=m("input");f.type=r,f.id=t,"number"===r?("number"==typeof l&&(f.min=l),"number"==typeof o&&(f.max=o),"number"==typeof p&&(f.steps=p)):("number"==typeof l&&(f.minLength=l),"number"==typeof o&&(f.maxLength=o)),f.placeholder=a||i||"",(i||0===i)&&(f.value=i),f.addEventListener("input",function(e){return n(e.target.value)});var d=m("label");return d.innerHTML=u||t,d.htmlFor=t,c.push(d),c.push(f),{htmlElements:c}},t=function(e,n){var t=e.id,u=e.name,r=e.help,a=e.values,i=e.defaultValue,l=[],o=function(e){return document.createElement(e)},p=o("select");p.id=t,p.title=r||"",a.forEach(function(e){var n=o("option");"object"==typeof e?(n.value=e.value,n.innerHTML=e.name):n.value=n.innerHTML=e,p.appendChild(n)}),(i||0===i)&&(p.value=i),p.addEventListener("input",function(e){return n(e.target.value)});var c=document.createElement("label");return c.htmlFor=t,c.innerHTML=u||t,l.push(c),l.push(p),{htmlElements:l}},u=function(e,n){var t=e.id,u=e.defaultValue,r=e.help,a=[];return e.values.forEach(function(e){var i=document.createElement("input");i.type="radio",i.name=t,i.title=r||"";var l=document.createElement("label");"object"==typeof e?(i.value=e.value,i.id=t+"_"+e.value,l.innerHTML=e.name):(i.value=l.innerHTML=e,i.id=t+"_"+e),u+""==i.value+""&&(i.checked=!0),i.addEventListener("click",function(e){return n(e.target.value)}),l.htmlFor=i.id,a.push(i),a.push(l)}),{htmlElements:a}},r=[function(e,t){if("input"===e.inputType)return n(e,t)},function(e,n){if("section"===e.type)return u=(t=e).id,r=t.name,(a=document.createElement("b")).innerHTML=r||u,{htmlElements:[a],superType:!0};var t,u,r,a},function(e,n){if("boolean"===e.type)return function(n,t){var u=e.id,r=e.name,a=e.help,i=e.defaultValue,l=[],o=function(e){return document.createElement(e)},p=o("input");p.type="checkbox",p.id=u,p.title=a||"","boolean"==typeof i&&(p.checked=i),p.addEventListener("input",function(e){return t(e.target.checked)});var c=o("label");return c.innerHTML=r||u,c.htmlFor=u,l.push(p),l.push(c),{htmlElements:l}}(0,n)},function(e,n){if(e.values)return"radio"===e.inputType?u(e,n):"selection"===e.inputType?t(e,n):e.values.length<5?u(e,n):t(e,n)},function(e,n){if("number"===e.type&&!e.values&&"number"==typeof e.min&&"number"==typeof e.max&&(!e.steps||e.steps>=(e.min+e.max)/1e3))return function(n,t){var u=e.id,r=e.name,a=e.help,i=e.defaultValue,l=e.min,o=e.max,p=e.steps,c=[],m=function(e){return document.createElement(e)},f=m("input");f.type="range",f.id=u,f.min=l||0,(o||0===o)&&(f.max=o),p&&(f.step=p),f.placeholder=a||i||"",(i||0===i)&&(f.value=i);var d=m("label");d.innerHTML=r||u,d.htmlFor=u;var s=m("output");return s.innerHTML=f.value,f.addEventListener("input",function(e){s.innerHTML=e.target.value,t(e.target.value)}),c.push(d),c.push(f),c.push(s),{htmlElements:c}}(0,n)},function(e,t){return n(e,t)}],a=function(n,t,u,r,i){Object.values(n).forEach(function(n){for(var l=n.id,o=n.type,p=n.defaultValue,c=n.options,m=n.onUpdate,f=0,d=r;f<d.length;f+=1){var s=(0,d[f])(n,function(n){if(0===(n=e(n,o))||!1===n||n||(n=p||null),"function"==typeof m){var u=m(n,t[l]);t[l]=void 0!==u?u:n}else t[l]=n;i(l,n)});if(s){if(s.superType)return u.push.apply(u,s.htmlElements||[]),t[l]={},void a(c,t[l],u,r,i);t[l]=p||null,u.push.apply(u,s.htmlElements||[]);break}}})};export default function(e){void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var t=[],u=[];return{bind:function(e,i){return void 0===i&&(i={}),a(e,i,u,r.concat(n),function(e,n){return t.forEach(function(t){return t(e,n)})}),i},addChangeListener:function(e){t.push(e)},removeChangeListener:function(e){t.splice(t.indexOf(e))},render:function(e){void 0===e&&(e="div");var n=document.createElement(e);return n.className="settings-ui-wrapper",u.forEach(function(e){return n.appendChild(e)}),{to:function(e){return e.appendChild(n),n},replace:function(e){return e.parentElement.replaceChild(n,e),n},get:function(){return n}}}}}
//# sourceMappingURL=index.mjs.map
